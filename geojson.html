<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>REST Endpoint GeoJSON Demo</title>
		<meta name="description" content="A brief tutorial on using REST endpoints, with Esri services as demonstrations." />
		<meta name="author" content="Mike Dolbow" />

		<meta name="viewport" content="width=device-width; initial-scale=1.0" />

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />
		<link rel="stylesheet" href="//cdn.leafletjs.com/leaflet/v1.0.0-beta.2/leaflet.css" />
		<link rel="stylesheet" href="css/app.css">
		<link rel="stylesheet" href="css/skeleton.css">
		<script src="//cdn.leafletjs.com/leaflet/v1.0.0-beta.2/leaflet.js"></script>
		<script src="//cdn.rawgit.com/calvinmetcalf/leaflet-ajax/master/dist/leaflet.ajax.min.js"></script>
		<script src="js/geojson.js"></script>
	</head>

	<body onload="initgeojsonmap();">
		<div>
			<!-- Try to figure out how to do he nav better -->
			<nav>
				<ul>
					<li><a href="./index.html">Home</a></li>
					<li><a href="./browse.html">Explore with a Browser</a></li>
					<li><a href="./queries.html">Building Queries</a></li>
					<li><a href="./pnpdemo.html">Point-in-Poly Demo</a></li>
					<li><a href="./">Get GeoJSON</a></li>
				</ul>
			</nav>
	<header>
		<h1>REST Endpoint GeoJSON Demo</h1>
	</header>
			<div>
			<p>
				<a href="http://www.json.org/" target="_blank">JSON (new window)</a>, or Javascript Object Notation, has long been a common format for modern web applications using
				<a href="https://en.wikipedia.org/wiki/Ajax_(programming)" target="_blank">AJAX methodologies (new window)</a> to dynamically display data.
				Recent years have seen an extension of this format into geography, called
				<a href="http://geojson.org/" target="_blank">GeoJSON (new window)</a>,providing web developers with a lightweight, open format that is easily
				parsed by Javascript and shown on simple maps. The format proved so popular that <a href="http://googlegeodevelopers.blogspot.com/2014/03/maps-made-easier-geojson-in-the-javascript-maps-api.html" target="_blank">Google Maps began supporting it in 2014 (new window)</a>,
				and now with <a href="https://blogs.esri.com/esri/arcgis/2014/12/16/arcgis-online-geojson/" target="_blank">ArcGIS Online (AGOL) REST endpoints (new window)</a>,
				you can request GeoJSON from Esri services to get the same thing. If you're working with an Esri-flavored endpoint that is NOT on AGOL, you can leverage
				open Javascript libraries such as <a href="http://terraformer.io/arcgis-parser/" target="_blank">this one from Terraformer (new window)</a> to convert their original version of JSON-with-geometry to GeoJSON.
				</p>
			<p>Below we take this in a few directions. First, we found an ArcGIS.com-hosted dataset from Detroit
				called <a href="http://d3.d3.opendata.arcgis.com/datasets/46321d4eac7c436d858ba64870c91075_0" target="_blank">Public Libraries (new window)</a>.
				Then, with some help from <a href="http://lyzidiamond.com/posts/external-geojson-and-leaflet-the-other-way" target="_blank">Lyzi Diamond (new window)</a>
				and <a href="https://github.com/calvinmetcalf/leaflet-ajax" target="_blank">a plugin from Calvin Metcalf (new window)</a>, we add
				that dataset with a query of the layer, setting the output format to GeoJSON. (You'll only find this format in the HTML query form if it's available - currently only in ArcGIS.com-hosted data.)
				</p>
			</div>
			<div id="map"></div>
			<div id="footer">
				<p>
					&copy; <a href="./license.md">Copyright</a> by Mike Dolbow, <a href="http://twitter.com/mmdolbow">twitter.com/mmdolbow</a>.
				</p>
			</div>
		</div>
	</body>
</html>
